<!DOCTYPE html>
<html lang="en" class="noselect">
<head>
      <!-- Google tag (gtag.js) -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-T7R00N5VLE"></script>
      <script>
         window.dataLayer = window.dataLayer || [];
         function gtag(){dataLayer.push(arguments);}
         gtag('js', new Date());

         gtag('config', 'G-T7R00N5VLE');
      </script>
      <!-- Google tag (gtag.js) -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PT-3 Activity Schedule</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">

    <style>
        /* --- Root CSS Variables (Dark Theme Default) --- */
        :root {
            /* Colors - Dark Theme */
            --bg-primary: #121212;
            --bg-secondary: #1f1f1f;
            --bg-tertiary: #333333;
            --bg-input: #2c2c2c;
            
            /* Text Colors */
            --text-primary: #fff;
            --text-secondary: #ddd;
            --text-tertiary: #b0bec5;

            /* Accent Colors */
            --accent-primary: #ffc107;
            --accent-hover: #e0a800;
            --accent-button-text: black;

            /* Status Colors */
            --error-bg: #e53935;
            --logout-text: #fff;

            /* Shadows */
            --shadow-light: rgba(0, 0, 0, 0.4);
            --shadow-medium: rgba(0, 0, 0, 0.6);

            /* Spacing */
            --spacing-xs: 4px;
            --spacing-sm: 8px;
            --spacing-md: 12px;
            --spacing-lg: 16px;
            --spacing-xl: 20px;
            --spacing-xxl: 25px;

            /* Radius */
            --radius-md: 8px;
            --radius-lg: 10px;
            --radius-full: 50%;

            /* Fonts */
            --font-sm: 0.9rem;
            --font-base: 1rem;
            --font-md: 1.1rem;
            --font-lg: 1.2rem;
            --font-xl: 1.6rem;
            --font-xxl: 1.7rem;

            /* Transitions */
            --transition-fast: 0.2s ease;
            --transition-base: 0.3s ease;
            
            /* Z-index */
            --z-toast: 2000;
        }

        /* --- Light Theme Overrides --- */
        body.light-theme {
            --bg-primary: #ffffff;
            --bg-secondary: rgb(253, 253, 253);
            --bg-tertiary: rgb(240, 240, 240);
            --bg-input: #ffffff;

            --text-primary: #333;
            --text-secondary: rgb(50, 50, 50);
            --text-tertiary: rgb(80, 80, 80);

            --accent-button-text: rgb(30, 30, 30);
            --error-bg: #ff6666;

            --shadow-light: rgba(0, 0, 0, 0.1);
            --shadow-medium: rgba(0, 0, 0, 0.1);
        }

        /* --- Base Styles --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Roboto', sans-serif;
            transition: var(--transition-base) all;
            max-height: 999999px;
        }

         .noselect {
         -webkit-user-select: none;
         -moz-user-select: none;
         -ms-user-select: none;
         user-select: none;
         -webkit-touch-callout: none;
         -webkit-user-drag: none;
         -webkit-tap-highlight-color: transparent;
         }

        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            padding: var(--spacing-xxl);
            line-height: 1.6;
            /* Prevent horizontal scroll on body level */
            overflow-x: hidden; 
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: var(--spacing-lg);
            width: 100%; /* Ensure container doesn't overflow */
        }

        /* --- Header --- */
        .header {
            text-align: center;
            margin-bottom: var(--spacing-xxl);
            margin-top: 24px;
        }

        .header h1 {
            color: var(--text-primary);
            font-size: var(--font-xxl);
            font-weight: 700;
            margin-bottom: var(--spacing-xs);
            line-height: 1.2;
        }

        .header p {
            font-size: var(--font-md);
            color: var(--text-tertiary);
        }

        /* --- Roll Number Filter --- */
        .filter-container {
            margin-bottom: var(--spacing-xl);
            background: var(--bg-secondary);
            padding: var(--spacing-lg);
            border-radius: var(--radius-lg);
            box-shadow: 0 4px 12px var(--shadow-light);
        }
        
        .filter-container label {
            display: block;
            font-size: var(--font-md);
            font-weight: 700;
            color: var(--text-secondary);
            margin-bottom: var(--spacing-md);
        }

        .filter-input-group {
            display: flex;
            gap: var(--spacing-md);
        }

        .filter-input-group input[type="number"] {
            flex-grow: 1;
            background: var(--bg-input);
            color: var(--text-primary);
            border: 1px solid var(--bg-tertiary);
            border-radius: var(--radius-md);
            padding: var(--spacing-md);
            font-size: var(--font-base);
            /* Allow input to shrink if needed so buttons don't overflow */
            min-width: 0; 
            -moz-appearance: textfield;
        }
        
        .filter-input-group input[type="number"]::-webkit-inner-spin-button,
        .filter-input-group input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        .filter-input-group button {
            border: none;
            background: var(--accent-primary);
            color: var(--accent-button-text);
            padding: 0 var(--spacing-xl);
            border-radius: var(--radius-md);
            font-size: var(--font-base);
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition-fast);
            /* Ensure buttons don't shrink */
            flex-shrink: 0; 
        }

        .filter-input-group button:hover {
            background: var(--accent-hover);
        }
        
        .filter-input-group button.clear-btn {
            background: var(--bg-tertiary);
            color: var(--text-secondary);
        }
        
        .filter-input-group button.clear-btn:hover {
            background: var(--error-bg);
            color: var(--logout-text);
        }

        /* --- Schedule Display --- */
        #schedule-output {
            margin-top: var(--spacing-xl);
        }
        
        /* Full Schedule Grid */
        .schedule-grid {
            display: grid;
            /* FIXED: Changed minmax from 350px to 300px for better tablet support */
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--spacing-lg);
        }

        .subject-card {
            background: var(--bg-secondary);
            border-radius: var(--radius-lg);
            box-shadow: 0 4px 12px var(--shadow-light);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            transition: transform var(--transition-fast), box-shadow var(--transition-fast);
        }
        
        .subject-card:hover {
            /*transform: translateY(-5px);*/
            box-shadow: 0 6px 16px var(--shadow-medium);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            padding: var(--spacing-lg);
            border-bottom: 1px solid var(--bg-tertiary);
        }

        .card-header .icon {
            font-size: var(--font-xl);
            color: var(--accent-primary);
            width: 40px;
            text-align: center;
            flex-shrink: 0;
        }

        .card-header-text {
            flex-grow: 1;
        }

        .card-header-text h3 {
            font-size: var(--font-lg);
            font-weight: 700;
            color: var(--text-primary);
            line-height: 1.3;
        }

        .card-header-text span {
            font-size: var(--font-sm);
            color: var(--text-tertiary);
        }
        
        .card-body ul {
            list-style: none;
            padding: var(--spacing-sm) var(--spacing-lg) var(--spacing-lg);
        }
        
        .card-body li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-md) 0;
            border-bottom: 1px solid var(--bg-tertiary);
        }
        
        .card-body li:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }
        
        .card-body .date {
            font-weight: 700;
            color: var(--text-secondary);
            /* Allow wrapping if date is long on tiny screens */
            flex-basis: 40%;
        }
        
        .card-body .roll-range {
            font-size: var(--font-sm);
            color: var(--text-tertiary);
            background: var(--bg-tertiary);
            padding: var(--spacing-xs) var(--spacing-sm);
            border-radius: var(--radius-sm);
            font-weight: 700;
            text-align: right;
        }

        /* Personalized Schedule View */
        .my-schedule-list h2 {
            font-size: var(--font-lg);
            color: var(--text-primary);
            margin-bottom: var(--spacing-md);
        }

        .my-schedule-list ul {
            list-style: none;
        }
        
        .my-schedule-list li {
            background: var(--bg-secondary);
            border-radius: var(--radius-md);
            padding: var(--spacing-md) var(--spacing-lg);
            margin-bottom: var(--spacing-md);
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 6px var(--shadow-light);
        }
        
        .my-schedule-list .my-date {
            font-size: var(--font-base);
            color: var(--accent-primary);
            font-weight: 700;
            flex-basis: 40%;
        }
        
        .my-schedule-list .my-subject {
            font-size: var(--font-base);
            color: var(--text-secondary);
            font-weight: 700;
            flex-grow: 1;
            text-align: right;
        }

        .my-schedule-list .no-activity {
            background: var(--bg-secondary);
            border-radius: var(--radius-md);
            padding: var(--spacing-lg);
            text-align: center;
            color: var(--text-tertiary);
            font-style: italic;
        }
        
        /* --- Notes Section --- */
        .notes-section {
            background: var(--bg-tertiary);
            color: var(--text-secondary);
            padding: var(--spacing-lg);
            border-radius: var(--radius-lg);
            margin-top: var(--spacing-xxl);
        }
        
        .notes-section h4 {
            color: var(--text-primary);
            margin-bottom: var(--spacing-sm);
            font-size: var(--font-md);
        }
        
        .notes-section ul {
            list-style-position: inside;
            padding-left: var(--spacing-xs);
        }
        
        .notes-section li {
            margin-bottom: var(--spacing-xs);
            font-size: var(--font-sm);
        }

        /* --- Theme Toggle Button --- */
        .theme-toggle {
            position: fixed;
            bottom: var(--spacing-xl);
            right: var(--spacing-xl);
            width: 50px;
            height: 50px;
            border-radius: var(--radius-full);
            background: var(--accent-primary);
            color: var(--accent-button-text);
            border: none;
            display: grid;
            display: none;
            place-items: center;
            font-size: var(--font-lg);
            cursor: pointer;
            box-shadow: 0 4px 12px var(--shadow-medium);
            z-index: var(--z-toast);
        }
        
        .theme-toggle .icon-sun { display: none; }
        .theme-toggle .icon-moon { display: block; }
        
        body.light-theme .theme-toggle .icon-sun { display: block; }
        body.light-theme .theme-toggle .icon-moon { display: none; }

        /* =========================================
           FIX: MOBILE RESPONSIVENESS
           ========================================= */
        @media (max-width: 768px) {
            /* 1. Reduce Page Padding to save space */
            body {
                padding: 10px;
            }

            .container {
                padding: 5px;
            }
            
            /* 2. Adjust Heading size */
            .header h1 {
                font-size: 1.4rem;
            }

            /* 3. Fix the Card Grid Overflow 
               Force 1 column on mobile so it doesn't push width out */
            .schedule-grid {
                grid-template-columns: 1fr; 
            }

            /* 4. Fix the Input Group Overflow 
               Reduce button padding so they fit next to input */
            .filter-input-group button {
                padding: 0 15px; /* Was 20px */
            }
            
            /* 5. Adjust internal card padding */
            .card-header, .card-body ul {
                padding-left: 12px;
                padding-right: 12px;
            }
            
            /* 6. Stack 'My Schedule' list items if text is long */
            .my-schedule-list li {
                flex-direction: column;
                align-items: flex-start;
                gap: 5px;
            }
            
            .my-schedule-list .my-subject {
                text-align: left;
            }
        }

    </style>
</head>
<body>

    <div class="container">
        <header class="header">
            <h1>Jamna Vidyapeeth School</h1>
            <p>PT-3 Activity Schedule (Grades 1-8) | Session 2025-26</p>
        </header>

        <main>
            <div class="filter-container">
                <label for="rollNoInput">Find My Schedule</label>
                <div class="filter-input-group">
                    <input type="number" id="rollNoInput" placeholder="Roll No." min="1">
                    <button id="findBtn" title="Find Schedule">
                        <i class="fas fa-search"></i>
                    </button>
                    <button id="clearBtn" class="clear-btn" title="Show Full Schedule">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>

            <div id="schedule-output">
                </div>

            <section class="notes-section">
                <h4><i class="fas fa-exclamation-circle"></i> Important Notes:</h4>
                <ul>
                    <li>Exam (activity) will be conducted during regular subject periods.</li>
                    <li>No re-exam (activity) will be conducted.</li>
                </ul>
            </section>
        </main>
    </div>

    <button class="theme-toggle" id="themeToggleBtn" title="Toggle Theme">
        <i class="fas fa-sun icon-sun"></i>
        <i class="fas fa-moon icon-moon"></i>
    </button>
    
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

    <script>
        // --- SCHEDULE DATA ---
        const scheduleData = [
            {
                subject: "S.St. / E.V.S.",
                icon: "fas fa-globe-americas",
                dates: "24th Nov to 26th Nov",
                batches: [
                    { date: "24 Nov", rollNos: "1-13" },
                    { date: "25 Nov", rollNos: "14-27" },
                    { date: "26 Nov", rollNos: "28-40" }
                ]
            },
            {
                subject: "Science",
                icon: "fas fa-flask",
                dates: "27th Nov to 29th Nov",
                batches: [
                    { date: "27 Nov", rollNos: "1-13" },
                    { date: "28 Nov", rollNos: "14-27" },
                    { date: "29 Nov", rollNos: "28-40" }
                ]
            },
            {
                subject: "Maths",
                icon: "fas fa-calculator",
                dates: "1st Dec to 3rd Dec",
                batches: [
                    { date: "01 Dec", rollNos: "1-13" },
                    { date: "02 Dec", rollNos: "14-27" },
                    { date: "03 Dec", rollNos: "28-40" }
                ]
            },
            {
                subject: "English",
                icon: "fas fa-book-open",
                dates: "4th Dec to 6th Dec",
                batches: [
                    { date: "04 Dec", rollNos: "1-13" },
                    { date: "05 Dec", rollNos: "14-27" },
                    { date: "06 Dec", rollNos: "28-40" }
                ]
            },
            {
                subject: "Hindi",
                icon: "fas fa-language",
                dates: "8th Dec to 10th Dec",
                batches: [
                    { date: "08 Dec", rollNos: "1-13" },
                    { date: "09 Dec", rollNos: "14-27" },
                    { date: "10 Dec", rollNos: "28-40" }
                ]
            },
            {
                subject: "Computer",
                icon: "fas fa-laptop-code",
                dates: "11th December",
                batches: [
                    { date: "11 Dec", rollNos: "1-40" }
                ]
            },
            {
                subject: "G.K.",
                icon: "fas fa-brain",
                dates: "12th Dec to 13th Dec",
                batches: [
                    { date: "12 Dec", rollNos: "1-20" },
                    { date: "13 Dec", rollNos: "21-40" }
                ]
            },
            {
                subject: "Sanskrit",
                icon: "fas fa-om",
                dates: "15th Dec to 16th Dec",
                batches: [
                    { date: "15 Dec", rollNos: "1-20" },
                    { date: "16 Dec", rollNos: "21-40" }
                ]
            }
        ];

        // --- DOM Elements ---
        const scheduleOutput = document.getElementById('schedule-output');
        const rollNoInput = document.getElementById('rollNoInput');
        const findBtn = document.getElementById('findBtn');
        const clearBtn = document.getElementById('clearBtn');
        const themeToggleBtn = document.getElementById('themeToggleBtn');

        // --- Functions ---

        function renderFullSchedule() {
            let html = '<div class="schedule-grid">';
            
            for (const subject of scheduleData) {
                html += `
                    <div class="subject-card">
                        <div class="card-header">
                            <i class="${subject.icon} icon"></i>
                            <div class="card-header-text">
                                <h3>${subject.subject}</h3>
                                <span>${subject.dates}</span>
                            </div>
                        </div>
                        <div class="card-body">
                            <ul>
                `;
                
                for (const batch of subject.batches) {
                    html += `
                        <li>
                            <span class="date">${batch.date}</span>
                            <span class="roll-range">Roll No: ${batch.rollNos}</span>
                        </li>
                    `;
                }
                
                html += `
                            </ul>
                        </div>
                    </div>
                `;
            }
            
            html += '</div>';
            scheduleOutput.innerHTML = html;
        }

        function renderMySchedule() {
            const rollNo = parseInt(rollNoInput.value, 10);
            
            if (isNaN(rollNo)) {
                renderFullSchedule();
                return;
            }

            let myActivities = [];
            
            for (const subject of scheduleData) {
                for (const batch of subject.batches) {
                    const [min, max] = batch.rollNos.split('-').map(Number);
                    if (rollNo >= min && rollNo <= max) {
                        myActivities.push({
                            date: batch.date,
                            subject: subject.subject
                        });
                    }
                }
            }

            let html = `<div class="my-schedule-list">
                            <h2>My Schedule (Roll No. ${rollNo})</h2>`;
            
            if (myActivities.length > 0) {
                // Simple sort
                myActivities.sort((a, b) => a.date.localeCompare(b.date, undefined, { numeric: true }));

                html += '<ul>';
                for (const activity of myActivities) {
                    html += `
                        <li>
                            <span class="my-date"><i class="fas fa-calendar-alt"></i> ${activity.date}</span>
                            <span class="my-subject">${activity.subject}</span>
                        </li>
                    `;
                }
                html += '</ul>';
            } else {
                html += `<div class="no-activity">
                            <p>No activities found for Roll No. ${rollNo}.</p>
                         </div>`;
            }
            
            html += '</div>';
            scheduleOutput.innerHTML = html;
        }
        
        function clearFilter() {
            rollNoInput.value = '';
            renderFullSchedule();
        }

        function toggleTheme() {
            document.body.classList.toggle('light-theme');
            if (document.body.classList.contains('light-theme')) {
                localStorage.setItem('theme', 'light');
            } else {
                localStorage.setItem('theme', 'dark');
            }
        }
        
        function loadTheme() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'light') {
                document.body.classList.add('light-theme');
            }
        }

        // --- Event Listeners ---
        document.addEventListener('DOMContentLoaded', () => {
            loadTheme();
            renderFullSchedule();
        });

        findBtn.addEventListener('click', renderMySchedule);
        clearBtn.addEventListener('click', clearFilter);
        themeToggleBtn.addEventListener('click', toggleTheme);
        
        rollNoInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                renderMySchedule();
            }
        });

    </script>
</body>
</html>
